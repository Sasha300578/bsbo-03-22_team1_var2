# Прецедент: Выдача книги (Book Checkout)

##Описание:  
Библиотекарь выдает книгу пользователю, проверяя её наличие и доступность в системе, а также фиксирует информацию о сроках возврата и состоянии книги.

## Акторы:
- **Пользователь** (User): Хочет взять книгу на время.
- **Библиотекарь** (Librarian): Обрабатывает запрос на выдачу книги, проверяет её доступность и оформляет выдачу.

## Интересы:
- **Пользователь**: Получить книгу на указанное время, удовлетворяя свои информационные потребности.
- **Библиотекарь**: Провести процесс выдачи книги корректно, следя за состоянием книги и сроками возврата.

## Предусловия:
- Пользователь должен быть зарегистрирован в библиотечной системе и не иметь долгов (например, неоплаченных штрафов или просроченных книг).
- Книга должна быть доступна для выдачи (не выдана другому пользователю, не повреждена и не находится на ремонте).

## Постусловие:
- Книга выдана пользователю, и её статус в системе обновлен на "выдана".
- Информация о сроке возврата книги и данных пользователя сохранена в системе.

---

## Успешный сценарий:

1. **Запрос пользователя**  
   Пользователь обращается к библиотекарю с просьбой взять книгу, указывая название, автора или другие параметры (например, жанр).

2. **Поиск книги в каталоге**  
   Библиотекарь вводит данные о книге в библиотечную систему для поиска.

3. **Проверка доступности**  
   Система возвращает информацию о доступности книги (например, книга доступна, выдана или на ремонте).
   
4. **Проверка доступности книги**  
   - Если книга доступна, библиотекарь продолжает процесс выдачи.
   - Если книга недоступна (например, она уже выдана другому пользователю или повреждена), библиотекарь информирует пользователя и предлагает альтернативы (ожидание, аналогичные книги или оформление заявки).

5. **Регистрация выдачи**  
   Библиотекарь вводит данные пользователя (ФИО, ID) и регистрирует книгу в системе с указанием даты выдачи и срока возврата.

6. **Передача книги пользователю**  
   Библиотекарь передает книгу пользователю.

7. **Обновление статуса книги**  
   Система обновляет статус книги на "выдана" и сохраняет информацию о пользователе и сроке возврата.

8. **Завершение процесса**  
   Пользователь забирает книгу, процесс выдачи завершен.

---

## Альтернативный сценарий:

1. **Книга недоступна**  
   Если книга недоступна (например, уже выдана другому пользователю):
   - Библиотекарь сообщает об этом пользователю и предлагает несколько альтернатив:
     - Ожидание, пока книга не вернется (если предусмотрена очередь на книгу).
     - Выбор другой книги аналогичной тематики.
     - Оформление заявки на книгу (если такая функция предусмотрена).

2. **Неоплаченные штрафы или просроченные книги**  
   Если у пользователя есть неоплаченные штрафы или просроченные книги:
   - Система блокирует возможность выдачи новой книги.
   - Библиотекарь сообщает пользователю о наличии задолженности и предлагает погасить штраф или вернуть просроченную книгу.
   - После погашения задолженности выдача книги становится возможной.

3. **Книга повреждена или на ремонте**  
   Если книга повреждена или на ремонте:
   - Библиотекарь сообщает об этом пользователю и предлагает альтернативные варианты (например, ожидание завершения ремонта или выбор аналогичной книги).
