@startuml

actor Пользователь
participant Система

Система -> Система : Проверка сроков владения книгой checkReturnDate(book_id, user_id)
alt Срок подходит к концу
    Система -> Пользователь : Уведомление о сроке возврата bookReturnReminder()
end

Система -> Система : Проверка доступности зарезервированной книги книги checkBookAvailability(book_id)
alt Книга доступна
    Система -> Пользователь : Уведомление о доступности книги bookAvailableNotification()
end

alt У пользователя нет контактных данных
    Система -> Система : Не может отправить уведомление noContactDetails()
    Система -> Пользователь : Неудачная отправка уведомления noNotificationSent()
end

alt Книга забронирована другим пользователем
    Система -> Пользователь : Уведомление о недоступности книги bookNotAvailableForUser()
end

@enduml
